<html><head>
<title>octopusLAB-ESP32-control</title>
<meta charset="utf-8" />
<link href="../main.css" rel="stylesheet" type="text/css" />
</head>
<script>
function loadInfo()
    {
        var button = document.getElementById("buttonInfo");
        var table = document.getElementById("tableInfo");
        var infoTest = document.getElementById("test");
        var infoUID = document.getElementById("infoUID");
        var infoMAC = document.getElementById("infoMAC");
        button.value = "Loading...";
        button.disabled = true;

        var xhr = new XMLHttpRequest();
        xhr.timeout = 10000;

        xhr.onerror = function () {
            console.log("Error");
            button.value = "Load";
            button.disabled = false;
        }

        xhr.ontimeout = function () {
            console.log("Request timeout");
            button.value = "Load";
            button.disabled = false;
        }

        xhr.onload = function () {
            button.value = "Load";
            button.disabled = false;

            var json = JSON.parse(xhr.responseText);
            console.log(json);
            console.log(xhr.responseText);
            infoMAC.innerText = json['deviceMAC'];
            infoUID.innerText = json['deviceUID'];

        }

        xhr.open('GET', '/esp/control_info.json');
        xhr.send();
    }

    function ledOn(value)
    {
        var infoLed = document.getElementById("led");
        var xhr = new XMLHttpRequest();
        infoLed.innerText = value;
        xhr.timeout = 10000;

        xhr.onerror = function () {
            console.log("Error");
        }

        xhr.ontimeout = function () {
            console.log("Request timeout");
        }

        xhr.onload = function () {
            console.log(xhr.responseText);
            console.log(xhr.status);
            boardInfo();
        }

        xhr.open('POST', '/esp/control_led');
        xhr.send(value);
    }


</script>
<body>
<h1><img src="../octopus-72.png" ALIGN="BOTTOM"> octopusLAB - ESP32 control</h1>

<br />
<div class="radius">
<h3>Esp32 system info</h3>
UID: <span id="infoUID">...</span><br />
MAC: <span id="infoMAC">...</span><br />
free RAM:<br />
Flash:<br />
... <span id="test"></span><br />
<br />
<input class="button" type="button" onClick="loadInfo()" id="buttonInfo" value="Load" />

<table>
<thead>
<tr><th>Test</th><th>Data</th></tr>
</thead>
<tbody id="tableInfo"></tbody>
</table>


</div>
<br />

<div class="radius">
<h3>Esp32 simple control</h3>
Default / BUILT_IN LED control: <span id="led"></span><br />
<form>
<input class="button_big back_gre" type="button" onClick="ledOn(1)"  value="On" /></input>
<input class="button_big back_red" type="button" onClick="ledOn(0)" value="Off" /></input>

</form>
<br />
WS RGB LED control: <span id="rgb"></span><br />
<form>
<input class="back_red button0" type="button" onClick="ledOn(2)"  value="Red" /></input>
<input class="back_gre button0" type="button" onClick="ledOn(3)" value="Green" /></input>
<input class="back_blu button0" type="button" onClick="ledOn(4)" value="Blue" /></input><br>
<input class="back_ora button0" type="button" onClick="ledOn(5)"  value="Orange" /></input>
<input class="back_vio button0" type="button" onClick="ledOn(6)" value="Violet" /></input>
<input class="back_sil button0" type="button" onClick="ledOn(7)" value="Black" /></input><br>

</form>
</div>


<br />
<div class="radius">
<br />
◄ Back to main <a href="../index.html">MENU</a>
</div>

</body></html>
